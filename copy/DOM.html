<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="DOM学习">
<meta name="keywords" content="DOM JavaScript">
<meta property="og:type" content="website">
<meta property="og:title" content="DOM">
<meta property="og:url" content="http://yoursite.com/copy/DOM.html">
<meta property="og:site_name" content="大新的树洞">
<meta property="og:description" content="DOM学习">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-02-08T19:39:01.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DOM">
<meta name="twitter:description" content="DOM学习">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>DOM</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
    <div class="content index width mx-auto px2 my4">
        
          <header id="header">
  <a href="/">
  
    
      <div id="logo" style="background-image: url(/images/logo.png);"></div>
    
  
    <div id="title">
      <h1>大新的树洞</h1>
    </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#"><i class="fa fa-bars fa-2x"></i></a>
      </li>
       
        <li><a href="/">Home</a></li>
       
        <li><a href="/about/">About</a></li>
       
        <li><a href="/posts/">Writing</a></li>
       
        <li><a href="http://github.com/sergodeeva">Projects</a></li>
      
    </ul>
  </div>
</header>

        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  

  <div class="content" itemprop="articleBody">
    <a id="more"></a>
<h1 id="第一章-JavaScript起源"><a href="#第一章-JavaScript起源" class="headerlink" title="第一章 JavaScript起源"></a>第一章 JavaScript起源</h1><p>略</p>
<h1 id="第二章-JavaScript语法"><a href="#第二章-JavaScript语法" class="headerlink" title="第二章 JavaScript语法"></a>第二章 JavaScript语法</h1><p>略</p>
<h1 id="第三章-DOM"><a href="#第三章-DOM" class="headerlink" title="第三章 DOM"></a>第三章 DOM</h1><ol>
<li>获取元素<blockquote>
<p>getElementById<br>getElementsByClassName<br>getElementsByTagName</p>
</blockquote>
</li>
<li>获取和设置属性<blockquote>
<p>getAttribute<br>setAttribute</p>
</blockquote>
</li>
</ol>
<h1 id="第四章"><a href="#第四章" class="headerlink" title="第四章"></a>第四章</h1><ol>
<li><p>事件处理函数工作机制</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">onclick</span>=<span class="string">"handle()"</span>&gt;</span>Click Me<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<p>要避免默认行为发生，只需要在处理事件中<code>return false</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>) </span>&#123;</div><div class="line">   <span class="comment">/*handle event*/</span></div><div class="line">   <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>几种常用的DOM属性</p>
<ol>
<li><p><code>childNodes</code></p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">        <span class="keyword">var</span> body = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"body"</span>)[<span class="number">0</span>];</div><div class="line">        <span class="built_in">console</span>.log(body.childNodes.length);<span class="comment">//输出：5 并不是1，原因是文档树的节点并不只有元素节点。</span></div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>nodeType</code></p>
<ul>
<li>元素节点： 1</li>
<li>属性节点： 2</li>
<li>文本节点： 3</li>
</ul>
</li>
<li><p><code>nodeValue</code> 文本节点的值(获取或设置)</p>
</li>
<li><code>firstChild</code> <code>lastChild</code></li>
</ol>
</li>
</ol>
<h1 id="第五章-最佳实践"><a href="#第五章-最佳实践" class="headerlink" title="第五章 最佳实践"></a>第五章 最佳实践</h1><ol>
<li><p>在html文档使用伪协议<strong>非常不好！</strong></p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:popup('http://www.baidu.com')"</span>&gt;</span>Click Me<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>平稳退化和渐进增强暂时可以不用去管他。可以参考 <em><a href="https://www.zhihu.com/question/31173107" target="_blank" rel="noopener">https://www.zhihu.com/question/31173107</a></em></p>
</li>
</ol>
<h1 id="第六章-图片库改进版"><a href="#第六章-图片库改进版" class="headerlink" title="第六章 图片库改进版"></a>第六章 图片库改进版</h1><ol>
<li><code>addLoadEvent</code> <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addLoadEvent</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> oldLoad = <span class="built_in">window</span>.onload</div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">window</span>.onload != <span class="function"><span class="keyword">function</span>) </span>&#123;<span class="comment">//没有绑定事件</span></div><div class="line">        <span class="built_in">window</span>.onload = e;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="comment">//已绑定事件</span></div><div class="line">            oldLoad();</div><div class="line">            e();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="第七章-动态创建标记"><a href="#第七章-动态创建标记" class="headerlink" title="第七章 动态创建标记"></a>第七章 动态创建标记</h1><ol>
<li><p><code>createElement</code></p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.createElement(nodeName);</div><div class="line"><span class="comment">//e.g</span></div><div class="line"><span class="keyword">var</span> para = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</div></pre></td></tr></table></figure>
</li>
<li><p><code>appendChild</code> 将创造的节点末尾插入文档</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"testDiv"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> testDiv = <span class="built_in">document</span>.getElementById(<span class="string">"testDiv"</span>);</div><div class="line"><span class="keyword">var</span> para = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</div><div class="line">testDiv.appendChild(para);<span class="comment">//末尾插入</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>createTextNode</code> 创建一个文本节点</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> text = <span class="built_in">document</span>.creatTextNode(<span class="string">"hello world"</span>);</div></pre></td></tr></table></figure>
</li>
<li><p>在已有元素前插入新元素</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">parentNode.insertBefore(newElement,targetElement)</div></pre></td></tr></table></figure>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"two"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> para = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</div><div class="line">para.setAttribute(<span class="string">"class"</span>,<span class="string">"one"</span>);</div><div class="line">para.innerHTML = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> two = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"two"</span>)[<span class="number">0</span>];</div><div class="line">two.parentNode.insertBefore(para,two);</div></pre></td></tr></table></figure>
</li>
<li><p>在已有元素后插入新元素</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//DOM未提供insertAfter方法,所以自己写一个。</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertAfter</span>(<span class="params">newElement,targetElement</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> parent = targetElement.parentNode;</div><div class="line">    <span class="keyword">if</span>(targetElement == parent.lastChild) &#123;<span class="comment">//目标元素是其父元素的最后一位</span></div><div class="line">        parent.appendChild(newElement);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        parent.insertBefore(newElement,targetElement.nextSibling);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>nextSibling属性： 下一个兄弟元素</p>
</blockquote>
</li>
</ol>

  </div>
</article>

    </div>
    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2020 峨嵋峰
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/posts/">Writing</a></li>
         
          <li><a href="http://github.com/sergodeeva">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-37473492-6', 'auto');
        ga('send', 'pageview');
    </script>



